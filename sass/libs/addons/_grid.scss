// assumes that you are using box-sizing(border-box); on each column element by default. Ours is set in the main site reset.

@mixin grid($columns, $prefix, $gutter: 0) {
    $left: 0%;

    .#{$prefix}-all {
        clear: left;
        float: left;
        width: 100%;
    }

    @for $i from 1 through length($columns) {
        $width: nth($columns, $i) + 0%;
        .#{$prefix}#{$i} {
            float: left;
            margin-left: $left;
            margin-right: -100%;
            padding-left: #{$gutter/2};
            padding-right: #{$gutter/2};
            width:#{$width};
        }
        @for $x from $i+1 through length($columns) {
            $width: $width + (nth($columns, $x) + 0%);
            .#{$prefix}#{$i}-#{$prefix}#{$x} {
                float: left;
                margin-left: $left;
                margin-right: -100%;
                padding-left: #{$gutter/2};
                padding-right: #{$gutter/2};
                width:#{$width};

                // add subgrid (this width divided by container width)
                // add padding, padding-full, padding-in, padding-in-full (padding full can be achieved by switching box-sizing back to padding-box and doing a negative left the appropriate amount)
            }
        }
        $left: $left + (nth($columns, $i) + 0%);
    }
    
}